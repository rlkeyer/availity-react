(window.webpackJsonp=window.webpackJsonp||[]).push([[10,12],{2033:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(22),__webpack_require__(32),__webpack_require__(13),__webpack_require__(43),__webpack_require__(30),__webpack_require__(33),__webpack_require__(19),__webpack_require__(18),__webpack_require__(21),__webpack_require__(25),__webpack_require__(34),__webpack_require__(16),__webpack_require__(12),__webpack_require__(23),__webpack_require__(9);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__),_availity_hooks__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93),reactstrap__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(371),_FavoritesContext__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2055),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2),_excluded=["id","name","onChange","onMouseDown"];function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var FavoriteHeart=function FavoriteHeart(_ref){var id=_ref.id,name=_ref.name,onChange=_ref.onChange,_onMouseDown=_ref.onMouseDown,props=_objectWithoutProperties(_ref,_excluded),_useFavorites2=_slicedToArray(Object(_FavoritesContext__WEBPACK_IMPORTED_MODULE_19__.c)(id),2),isFavorite=_useFavorites2[0],toggleFavorite=_useFavorites2[1],_useToggle2=_slicedToArray(Object(_availity_hooks__WEBPACK_IMPORTED_MODULE_17__.i)(!1),2),tooltipOpen=_useToggle2[0],toggleTooltip=_useToggle2[1],_useToggle4=_slicedToArray(Object(_availity_hooks__WEBPACK_IMPORTED_MODULE_17__.i)(!0),2),loading=_useToggle4[0],toggleLoading=_useToggle4[1],icon=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){var onChangeHandler=function onChangeHandler(e){toggleFavorite(),onChange&&onChange(!isFavorite,e)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("span",Object.assign({id:"av-favorite-heart-"+id,role:"checkbox","aria-label":"Favorite "+(name||""),"aria-checked":isFavorite},props,{tabIndex:"0",className:"favorite-heart pt-4 "+(isFavorite&&"active"),onMouseDown:function onMouseDown(e){e.preventDefault(),_onMouseDown&&_onMouseDown(e)},onKeyPress:function onKeyPress(e){return(" "===e.key||"Enter"===e.key)&&onChangeHandler(e)},onClick:onChangeHandler,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("span",{"aria-hidden":!0,className:"icon outline"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("span",{"aria-hidden":!0,className:"icon default-filled"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("span",{"aria-hidden":!0,className:"icon selected-filled"})]}))}),[id,name,isFavorite,_onMouseDown,props,onChange,toggleFavorite]);return Object(_availity_hooks__WEBPACK_IMPORTED_MODULE_17__.c)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:toggleLoading(!1);case 1:case"end":return _context.stop()}}),_callee)}))),[id]),!loading&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[icon,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,{id:"av-favorite-heart-"+id+"-tooltip","data-testid":"av-favorite-heart-"+id+"-tooltip",placement:"top",trigger:"hover",delay:{show:1500,hide:0},target:"av-favorite-heart-"+id,isOpen:tooltipOpen,toggle:function toggle(){return toggleTooltip()},children:[isFavorite?"Remove From":"Add to"," My Favorites"]})]})};FavoriteHeart.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_16___default.a.string.isRequired,name:prop_types__WEBPACK_IMPORTED_MODULE_16___default.a.string.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_16___default.a.func,onMouseDown:prop_types__WEBPACK_IMPORTED_MODULE_16___default.a.func},FavoriteHeart.__docgenInfo={description:"",methods:[],displayName:"FavoriteHeart",props:{id:{type:{name:"string"},required:!0,description:""},name:{type:{name:"string"},required:!0,description:""},onChange:{type:{name:"func"},required:!1,description:""},onMouseDown:{type:{name:"func"},required:!1,description:""}}},__webpack_exports__.default=FavoriteHeart,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/favorites/src/FavoriteHeart.js"]={name:"FavoriteHeart",docgenInfo:FavoriteHeart.__docgenInfo,path:"../packages/favorites/src/FavoriteHeart.js"})},2038:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _src_FavoriteHeart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2033);__webpack_require__.d(__webpack_exports__,"FavoriteHeart",(function(){return _src_FavoriteHeart__WEBPACK_IMPORTED_MODULE_0__.default}));var _src_FavoritesContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2055);__webpack_require__.d(__webpack_exports__,"default",(function(){return _src_FavoritesContext__WEBPACK_IMPORTED_MODULE_1__.b})),__webpack_require__.d(__webpack_exports__,"useFavorites",(function(){return _src_FavoritesContext__WEBPACK_IMPORTED_MODULE_1__.c})),__webpack_require__.d(__webpack_exports__,"FavoritesContext",(function(){return _src_FavoritesContext__WEBPACK_IMPORTED_MODULE_1__.a}))},2055:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FavoritesContext})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useFavorites}));__webpack_require__(138),__webpack_require__(94),__webpack_require__(23),__webpack_require__(9),__webpack_require__(98),__webpack_require__(125),__webpack_require__(43),__webpack_require__(13),__webpack_require__(30),__webpack_require__(33),__webpack_require__(19),__webpack_require__(18),__webpack_require__(21),__webpack_require__(25),__webpack_require__(16),__webpack_require__(34);var react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_17__),_availity_hooks__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(93),_availity_message_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(321),lodash_get__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(53),lodash_get__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_20__),lodash_isUndefined__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(384),lodash_isUndefined__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(lodash_isUndefined__WEBPACK_IMPORTED_MODULE_21__),lodash_isNumber__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1199),lodash_isNumber__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_22__),lodash_sortBy__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(2063),lodash_sortBy__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_23__),lodash_reduce__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(2065),lodash_reduce__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(lodash_reduce__WEBPACK_IMPORTED_MODULE_24__),lodash_clone__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(2066),lodash_clone__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(lodash_clone__WEBPACK_IMPORTED_MODULE_25__),lodash_find__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1198),lodash_find__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_26__),_availity_api_axios__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(49),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var AV_INTERNAL_GLOBALS_FAVORITES_UPDATE="av:favorites:update",AV_INTERNAL_GLOBALS_FAVORITES_CHANGED="av:favorites:changed",AV_INTERNAL_GLOBALS_MAX_FAVORITES="av:favorites:maxed",FavoritesContext=Object(react__WEBPACK_IMPORTED_MODULE_16__.createContext)(),validatedFavorites=function validatedFavorites(input){var validFavorites=lodash_reduce__WEBPACK_IMPORTED_MODULE_24___default()(input,(function(result,favorite){return lodash_isUndefined__WEBPACK_IMPORTED_MODULE_21___default()(favorite.id)||lodash_isUndefined__WEBPACK_IMPORTED_MODULE_21___default()(favorite.pos)||!lodash_isNumber__WEBPACK_IMPORTED_MODULE_22___default()(favorite.pos)||result.push(favorite),result}),[]);return lodash_sortBy__WEBPACK_IMPORTED_MODULE_23___default()(validFavorites,"pos").forEach((function(favorite,index){favorite.pos=index})),validFavorites},submitFavorites=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(newfavorites){var favorites;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return favorites=validatedFavorites(newfavorites),_context.abrupt("return",_availity_api_axios__WEBPACK_IMPORTED_MODULE_27__.h.setApplication("Gateway-AvNavigation",{favorites:favorites}));case 2:case"end":return _context.stop()}}),_callee)})));return function submitFavorites(_x){return _ref.apply(this,arguments)}}(),sendUpdate=function sendUpdate(faves){_availity_message_core__WEBPACK_IMPORTED_MODULE_19__.a.send({favorites:faves,event:AV_INTERNAL_GLOBALS_FAVORITES_UPDATE})},openMaxModal=function openMaxModal(){_availity_api_axios__WEBPACK_IMPORTED_MODULE_27__.b.info({category:"favorites",label:"max-favorites-modal",event:"modal-open"}),_availity_message_core__WEBPACK_IMPORTED_MODULE_19__.a.send(AV_INTERNAL_GLOBALS_MAX_FAVORITES)},Favorites=function Favorites(_ref2){var children=_ref2.children,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)([]),2),favorites=_useState2[0],setFavorites=_useState2[1],getFavorites=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var result;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_availity_api_axios__WEBPACK_IMPORTED_MODULE_27__.h.getApplication("Gateway-AvNavigation");case 2:result=_context2.sent,setFavorites(lodash_get__WEBPACK_IMPORTED_MODULE_20___default()(result,"data.settings[0].favorites")||[]);case 4:case"end":return _context2.stop()}}),_callee2)})));return function getFavorites(){return _ref3.apply(this,arguments)}}();Object(_availity_hooks__WEBPACK_IMPORTED_MODULE_18__.c)(_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _availity_message_core__WEBPACK_IMPORTED_MODULE_19__.a.subscribe(AV_INTERNAL_GLOBALS_FAVORITES_CHANGED,(function(data){setFavorites(lodash_get__WEBPACK_IMPORTED_MODULE_20___default()(data,"favorites")||[])})),_context3.next=3,getFavorites();case 3:return _context3.abrupt("return",(function(){return _availity_message_core__WEBPACK_IMPORTED_MODULE_19__.a.unsubscribe(AV_INTERNAL_GLOBALS_FAVORITES_CHANGED)}));case 4:case"end":return _context3.stop()}}),_callee3)}))),[]),Object(_availity_hooks__WEBPACK_IMPORTED_MODULE_18__.c)(_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _availity_message_core__WEBPACK_IMPORTED_MODULE_19__.a.subscribe(AV_INTERNAL_GLOBALS_FAVORITES_UPDATE,(function(data){setFavorites(lodash_get__WEBPACK_IMPORTED_MODULE_20___default()(data,"favorites")||[])})),_context4.abrupt("return",(function(){return _availity_message_core__WEBPACK_IMPORTED_MODULE_19__.a.unsubscribe(AV_INTERNAL_GLOBALS_FAVORITES_UPDATE)}));case 2:case"end":return _context4.stop()}}),_callee4)}))),[]);var deleteFavorite=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(id){var result,newFavorites;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,submitFavorites(lodash_clone__WEBPACK_IMPORTED_MODULE_25___default()(favorites).filter((function(favorite){return favorite.id!==id})));case 2:result=_context5.sent,newFavorites=lodash_get__WEBPACK_IMPORTED_MODULE_20___default()(result,"data.favorites"),setFavorites(newFavorites),sendUpdate(newFavorites);case 6:case"end":return _context5.stop()}}),_callee5)})));return function deleteFavorite(_x2){return _ref6.apply(this,arguments)}}(),addFavorite=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(id){var maxFavorite,newData,result,newFavorites,isFavorited;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!(favorites.length>=60)){_context6.next=3;break}return openMaxModal(),_context6.abrupt("return",!1);case 3:return maxFavorite=favorites.reduce((function(accum,fave){return(!accum||fave.pos>accum.pos)&&(accum=fave),accum}),null),(newData=lodash_clone__WEBPACK_IMPORTED_MODULE_25___default()(favorites)).push({id:id,pos:maxFavorite?maxFavorite.pos+1:0}),_context6.next=8,submitFavorites(newData);case 8:return result=_context6.sent,newFavorites=lodash_get__WEBPACK_IMPORTED_MODULE_20___default()(result,"data.favorites"),setFavorites(newFavorites),sendUpdate(newFavorites),isFavorited=lodash_find__WEBPACK_IMPORTED_MODULE_26___default()(newFavorites,{id:id}),_context6.abrupt("return",!!isFavorited);case 14:case"end":return _context6.stop()}}),_callee6)})));return function addFavorite(_x3){return _ref7.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(FavoritesContext.Provider,{value:{favorites:favorites,deleteFavorite:deleteFavorite,addFavorite:addFavorite},children:children})};Favorites.displayName="Favorites",Favorites.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_17___default.a.node};var useFavorites=function useFavorites(id){var _useContext=Object(react__WEBPACK_IMPORTED_MODULE_16__.useContext)(FavoritesContext),favorites=_useContext.favorites,deleteFavorite=_useContext.deleteFavorite,addFavorite=_useContext.addFavorite,isFavorited=Object(react__WEBPACK_IMPORTED_MODULE_16__.useMemo)((function(){return!!lodash_find__WEBPACK_IMPORTED_MODULE_26___default()(favorites,{id:id})}),[favorites,id]),toggleFavorite=function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",isFavorited?deleteFavorite(id):addFavorite(id));case 1:case"end":return _context7.stop()}}),_callee7)})));return function toggleFavorite(){return _ref8.apply(this,arguments)}}();return[isFavorited,toggleFavorite]};Favorites.__docgenInfo={description:"",methods:[],displayName:"Favorites",props:{children:{type:{name:"node"},required:!1,description:""}}},__webpack_exports__.b=Favorites,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/favorites/src/FavoritesContext.js"]={name:"Favorites",docgenInfo:Favorites.__docgenInfo,path:"../packages/favorites/src/FavoritesContext.js"})}}]);
//# sourceMappingURL=10.e456d78c.iframe.bundle.js.map